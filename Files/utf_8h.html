<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>utf.h - Crelude Documentation</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Documentation for Crelude, the C prelude/standard-library.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../favicon.svg">
                        <link rel="shortcut icon" href="../favicon.png">
                <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
                <link rel="stylesheet" href="../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
                <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../https://github.com/Demonstrandum/crelude.html">GitHub</a></li><li class="chapter-item expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> Documentation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Classes/index.html"><strong aria-hidden="true">1.1.</strong> Data Structures</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Data Structures/structsymbol.html"><strong aria-hidden="true">1.1.1.</strong> symbol</a></li><li class="chapter-item expanded "><a href="../Data Structures/structStringBuilder.html"><strong aria-hidden="true">1.1.2.</strong> StringBuilder</a></li><li class="chapter-item expanded "><a href="../Data Structures/structstring.html"><strong aria-hidden="true">1.1.3.</strong> string</a></li><li class="chapter-item expanded "><a href="../Data Structures/structRunicBuilder.html"><strong aria-hidden="true">1.1.4.</strong> RunicBuilder</a></li><li class="chapter-item expanded "><a href="../Data Structures/structrunic.html"><strong aria-hidden="true">1.1.5.</strong> runic</a></li><li class="chapter-item expanded "><a href="../Data Structures/structMemSlice.html"><strong aria-hidden="true">1.1.6.</strong> MemSlice</a></li><li class="chapter-item expanded "><a href="../Data Structures/structMemArray.html"><strong aria-hidden="true">1.1.7.</strong> MemArray</a></li><li class="chapter-item expanded "><a href="../Data Structures/structGenericSlice.html"><strong aria-hidden="true">1.1.8.</strong> GenericSlice</a></li><li class="chapter-item expanded "><a href="../Data Structures/structGenericArray.html"><strong aria-hidden="true">1.1.9.</strong> GenericArray</a></li><li class="chapter-item expanded "><a href="../Data Structures/struct__Natural.html"><strong aria-hidden="true">1.1.10.</strong> _Natural</a></li><li class="chapter-item expanded "><a href="../Data Structures/struct__atomic__t.html"><strong aria-hidden="true">1.1.11.</strong> _atomic_t</a></li></ol></li><li class="chapter-item expanded "><a href="../Files/index.html"><strong aria-hidden="true">1.2.</strong> Files</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Files/dir_68267d1309a1af8e8297ef4c3efbcdba.html"><strong aria-hidden="true">1.2.1.</strong> src</a></li><li class="chapter-item expanded "><a href="../Files/dir_21e32e04f18f8d48a02ea1aac13d6f2b.html"><strong aria-hidden="true">1.2.2.</strong> src/crelude</a></li><li class="chapter-item expanded "><a href="../Files/common_8c.html"><strong aria-hidden="true">1.2.3.</strong> common.c</a></li><li class="chapter-item expanded "><a href="../Files/common_8h.html"><strong aria-hidden="true">1.2.4.</strong> common.h</a></li><li class="chapter-item expanded "><a href="../Files/utf_8c.html"><strong aria-hidden="true">1.2.5.</strong> utf.c</a></li><li class="chapter-item expanded "><a href="../Files/utf_8h.html" class="active"><strong aria-hidden="true">1.2.6.</strong> utf.h</a></li><li class="chapter-item expanded "><a href="../Files/tests_8c.html"><strong aria-hidden="true">1.2.7.</strong> tests.c</a></li></ol></li></ol></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Crelude Documentation</h1>

                    <div class="right-buttons">
                                                <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <hr />
<p>title: src/crelude/utf.h</p>
<hr />
<h1 id="srccreludeutfh"><a class="header" href="#srccreludeutfh">src/crelude/utf.h</a></h1>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<table><thead><tr><th></th><th>Name</th></tr></thead><tbody>
<tr><td><a href="/crelude/Classes/structstring.html">string</a></td><td><strong><a href="/crelude/Files/utf_8h.html#function-to_string">to_string</a></strong>(const <a href="/crelude/Files/common_8h.html#typedef-byte">byte</a> * c)</td></tr>
<tr><td><a href="/crelude/Classes/structrunic.html">runic</a></td><td><strong><a href="/crelude/Files/utf_8h.html#function-utf8_to_ucs4">utf8_to_ucs4</a></strong>(<a href="/crelude/Classes/structrunic.html">runic</a> dest, <a href="/crelude/Classes/structstring.html">string</a> src)</td></tr>
<tr><td><a href="/crelude/Classes/structstring.html">string</a></td><td><strong><a href="/crelude/Files/utf_8h.html#function-ucs4_to_utf8">ucs4_to_utf8</a></strong>(<a href="/crelude/Classes/structstring.html">string</a> dest, <a href="/crelude/Classes/structrunic.html">runic</a> src)</td></tr>
<tr><td><a href="/crelude/Classes/structstring.html">string</a></td><td><strong><a href="/crelude/Files/utf_8h.html#function-rune_to_utf8">rune_to_utf8</a></strong>(<a href="/crelude/Classes/structstring.html">string</a> dest, <a href="/crelude/Files/common_8h.html#typedef-rune">rune</a> ch)</td></tr>
<tr><td><a href="/crelude/Files/common_8h.html#typedef-usize">usize</a></td><td><strong><a href="/crelude/Files/utf_8h.html#function-byte_offset">byte_offset</a></strong>(<a href="/crelude/Classes/structstring.html">string</a> , <a href="/crelude/Files/common_8h.html#typedef-usize">usize</a> )</td></tr>
<tr><td><a href="/crelude/Files/common_8h.html#typedef-usize">usize</a></td><td><strong><a href="/crelude/Files/utf_8h.html#function-char_num">char_num</a></strong>(<a href="/crelude/Classes/structstring.html">string</a> , <a href="/crelude/Files/common_8h.html#typedef-usize">usize</a> )</td></tr>
<tr><td><a href="/crelude/Files/common_8h.html#typedef-rune">rune</a></td><td><strong><a href="/crelude/Files/utf_8h.html#function-read_rune">read_rune</a></strong>(<a href="/crelude/Classes/structstring.html">string</a> s, <a href="/crelude/Files/common_8h.html#typedef-usize">usize</a> * i)</td></tr>
<tr><td><a href="/crelude/Files/common_8h.html#typedef-u0">u0</a></td><td><strong><a href="/crelude/Files/utf_8h.html#function-next_rune">next_rune</a></strong>(<a href="/crelude/Classes/structstring.html">string</a> , <a href="/crelude/Files/common_8h.html#typedef-usize">usize</a> * )<br>Update byte-index to move next rune, skipping it.</td></tr>
<tr><td><a href="/crelude/Files/common_8h.html#typedef-u0">u0</a></td><td><strong><a href="/crelude/Files/utf_8h.html#function-prev_rune">prev_rune</a></strong>(<a href="/crelude/Classes/structstring.html">string</a> , <a href="/crelude/Files/common_8h.html#typedef-usize">usize</a> * )<br>Update byte-index to move to previous rune.</td></tr>
<tr><td><a href="/crelude/Files/common_8h.html#typedef-usize">usize</a></td><td><strong><a href="/crelude/Files/utf_8h.html#function-read_escape">read_escape</a></strong>(<a href="/crelude/Classes/structstring.html">string</a> src, <a href="/crelude/Files/common_8h.html#typedef-rune">rune</a> * dest)</td></tr>
<tr><td><a href="/crelude/Classes/structstring.html">string</a></td><td><strong><a href="/crelude/Files/utf_8h.html#function-escape_rune">escape_rune</a></strong>(<a href="/crelude/Classes/structstring.html">string</a> dest, <a href="/crelude/Files/common_8h.html#typedef-rune">rune</a> ch)</td></tr>
<tr><td><a href="/crelude/Classes/structstring.html">string</a></td><td><strong><a href="/crelude/Files/utf_8h.html#function-utf8_unescape">utf8_unescape</a></strong>(<a href="/crelude/Classes/structstring.html">string</a> dest, <a href="/crelude/Classes/structstring.html">string</a> src)</td></tr>
<tr><td><a href="/crelude/Classes/structstring.html">string</a></td><td><strong><a href="/crelude/Files/utf_8h.html#function-utf8_escape">utf8_escape</a></strong>(<a href="/crelude/Classes/structstring.html">string</a> dest, <a href="/crelude/Classes/structstring.html">string</a> src, bool escape_quotes)</td></tr>
<tr><td><a href="/crelude/Classes/structstring.html">string</a></td><td><strong><a href="/crelude/Files/utf_8h.html#function-utf_strchr">utf_strchr</a></strong>(<a href="/crelude/Classes/structstring.html">string</a> s, <a href="/crelude/Files/common_8h.html#typedef-rune">rune</a> ch, <a href="/crelude/Files/common_8h.html#typedef-usize">usize</a> * i)</td></tr>
<tr><td><a href="/crelude/Files/common_8h.html#typedef-usize">usize</a></td><td><strong><a href="/crelude/Files/utf_8h.html#function-utf_strlen">utf_strlen</a></strong>(<a href="/crelude/Classes/structstring.html">string</a> s)</td></tr>
<tr><td><a href="/crelude/Files/common_8h.html#typedef-usize">usize</a></td><td><strong><a href="/crelude/Files/utf_8h.html#function-utf_seqlen">utf_seqlen</a></strong>(<a href="/crelude/Classes/structstring.html">string</a> )<br>Returns length of next UTF-8 sequence.</td></tr>
<tr><td>bool</td><td><strong><a href="/crelude/Files/utf_8h.html#function-is_locale_utf8">is_locale_utf8</a></strong>(<a href="/crelude/Files/common_8h.html#typedef-byte">byte</a> * locale)</td></tr>
<tr><td>bool</td><td><strong><a href="/crelude/Files/utf_8h.html#function-octal_digit">octal_digit</a></strong>(<a href="/crelude/Files/common_8h.html#typedef-byte">byte</a> c)</td></tr>
<tr><td>bool</td><td><strong><a href="/crelude/Files/utf_8h.html#function-hex_digit">hex_digit</a></strong>(<a href="/crelude/Files/common_8h.html#typedef-byte">byte</a> c)</td></tr>
</tbody></table>
<h2 id="defines"><a class="header" href="#defines">Defines</a></h2>
<table><thead><tr><th></th><th>Name</th></tr></thead><tbody>
<tr><td></td><td><strong><a href="/crelude/Files/utf_8h.html#define-is_utf">is_utf</a></strong>(c) <br>Is <code>c</code> the start of a UTF-8 sequence?</td></tr>
</tbody></table>
<h2 id="functions-documentation"><a class="header" href="#functions-documentation">Functions Documentation</a></h2>
<h3 id="function-to_string"><a class="header" href="#function-to_string">function to_string</a></h3>
<pre><code class="language-cpp">static inline string to_string(
    const byte * c
)
</code></pre>
<p><strong>Parameters</strong>: </p>
<ul>
<li><strong>c</strong> NUL-terminated C-string to be wrapped </li>
</ul>
<p><strong>Return</strong>: UTF-8 string slice. </p>
<p>Wrap C-string to internal <code>string</code> slice. Length does <em>not</em> count the NUL-terminator. </p>
<h3 id="function-utf8_to_ucs4"><a class="header" href="#function-utf8_to_ucs4">function utf8_to_ucs4</a></h3>
<pre><code class="language-cpp">runic utf8_to_ucs4(
    runic dest,
    string src
)
</code></pre>
<p><strong>Parameters</strong>: </p>
<ul>
<li><strong>dest</strong> Empty runic structure. </li>
<li><strong>src</strong> UTF-8 encoded string. </li>
</ul>
<p><strong>Return</strong>: Slice of converted runic <code>dest</code> with correct length. </p>
<p>Convert UTF-8 to UCS-4 (4-byte wide characters) No error checking is done, <em>must</em> be valid UTF-8 and <code>dest</code> must be large enough. If <code>dest.len &gt;= src.len + 1</code>, then there will always be enough space. </p>
<h3 id="function-ucs4_to_utf8"><a class="header" href="#function-ucs4_to_utf8">function ucs4_to_utf8</a></h3>
<pre><code class="language-cpp">string ucs4_to_utf8(
    string dest,
    runic src
)
</code></pre>
<p><strong>Parameters</strong>: </p>
<ul>
<li><strong>dest</strong> Empty string structure. </li>
<li><strong>src</strong> UCS-4/UTF-32 encoded string. </li>
</ul>
<p><strong>Return</strong>: Slice of <code>dest</code> with converted UTF-8 bytes with correct length. </p>
<p>Convert UCS-4 to UTF-8, will try to NUL-terminate, if there is space. No error checking is done. <code>dest.len &gt;= 4 * src.len + 4</code> To ensure a fit. Ensure enough space in <code>dest</code> string. </p>
<h3 id="function-rune_to_utf8"><a class="header" href="#function-rune_to_utf8">function rune_to_utf8</a></h3>
<pre><code class="language-cpp">string rune_to_utf8(
    string dest,
    rune ch
)
</code></pre>
<p><strong>Parameters</strong>: </p>
<ul>
<li><strong>dest</strong> Empty string structure to hold UTF-8 bytes. </li>
<li><strong>ch</strong> Single UCS-4 character / rune. </li>
</ul>
<p><strong>Return</strong>: Slice of <code>dest</code> with correct length. </p>
<p>Single UCS-4 rune to UTF-8 string. <code>dest</code> should allocate 4 bytes, or 5 if it is desired to NUL-terminate. </p>
<h3 id="function-byte_offset"><a class="header" href="#function-byte_offset">function byte_offset</a></h3>
<pre><code class="language-cpp">usize byte_offset(
    string ,
    usize 
)
</code></pre>
<p>Character number to byte offset. Given the n-th character/rune in a string, how many bytes is that from the start of a UTF-8 string. </p>
<h3 id="function-char_num"><a class="header" href="#function-char_num">function char_num</a></h3>
<pre><code class="language-cpp">usize char_num(
    string ,
    usize 
)
</code></pre>
<p>Byte offset to character number. Given a byte-offset from the start of a UTF-8 string, return how many characters/runes precede it. </p>
<h3 id="function-read_rune"><a class="header" href="#function-read_rune">function read_rune</a></h3>
<pre><code class="language-cpp">rune read_rune(
    string s,
    usize * i
)
</code></pre>
<p><strong>Parameters</strong>: </p>
<ul>
<li><strong>s</strong> String to step through. </li>
<li><strong>i</strong> Index with value of current position in the string, updating to the next start-of-character byte. </li>
</ul>
<p><strong>Return</strong>: The character (rune). </p>
<p>Step through a string, one rune/character at a time. Given the previous index, and updating the index to the begining of the next character. </p>
<h3 id="function-next_rune"><a class="header" href="#function-next_rune">function next_rune</a></h3>
<pre><code class="language-cpp">u0 next_rune(
    string ,
    usize * 
)
</code></pre>
<p>Update byte-index to move next rune, skipping it. </p>
<h3 id="function-prev_rune"><a class="header" href="#function-prev_rune">function prev_rune</a></h3>
<pre><code class="language-cpp">u0 prev_rune(
    string ,
    usize * 
)
</code></pre>
<p>Update byte-index to move to previous rune. </p>
<h3 id="function-read_escape"><a class="header" href="#function-read_escape">function read_escape</a></h3>
<pre><code class="language-cpp">usize read_escape(
    string src,
    rune * dest
)
</code></pre>
<p><strong>Parameters</strong>: </p>
<ul>
<li><strong>src</strong> String pointing to char after backslash. </li>
<li><strong>dest</strong> Pointer to location where resulting rune is to be stored. </li>
</ul>
<p><strong>Return</strong>: How many bytes read as part of parsing (including <code>u</code>/<code>U</code>). Returns <code>0</code> if escape is invalid. </p>
<p>Take an unescaped UTF-8 string, where the start of the string is pointing to the character right after the backslash. If this character is a <code>U</code>, then max eight (8) hexadecimal digits are expected to succeed it, otherwise a <code>u</code> is expected, where max four (4) hexdecimal digits are to succeed it. The resulting rune is stored in <code>dest</code>. </p>
<h3 id="function-escape_rune"><a class="header" href="#function-escape_rune">function escape_rune</a></h3>
<pre><code class="language-cpp">string escape_rune(
    string dest,
    rune ch
)
</code></pre>
<p><strong>Parameters</strong>: </p>
<ul>
<li><strong>dest</strong> Empty string, should be large enough for minimum 4 bytes, plus 1 byte for the NUL-terminator. </li>
<li><strong>ch</strong> The UCS-4 rune to convert from. </li>
</ul>
<p><strong>Return</strong>: Slice of <code>dest</code> with correct length. </p>
<p>Given a rune, convert it to an ASCII escape sequence. </p>
<h3 id="function-utf8_unescape"><a class="header" href="#function-utf8_unescape">function utf8_unescape</a></h3>
<pre><code class="language-cpp">string utf8_unescape(
    string dest,
    string src
)
</code></pre>
<p><strong>Parameters</strong>: </p>
<ul>
<li><strong>dest</strong> Empty string structure. </li>
<li><strong>src</strong> String containg escapes. </li>
</ul>
<p><strong>Return</strong>: Slice of <code>dest</code> with correct length. </p>
<p>Convert a string containing ASCII escape sequences to a proper UTF-8 string. </p>
<h3 id="function-utf8_escape"><a class="header" href="#function-utf8_escape">function utf8_escape</a></h3>
<pre><code class="language-cpp">string utf8_escape(
    string dest,
    string src,
    bool escape_quotes
)
</code></pre>
<p><strong>Parameters</strong>: </p>
<ul>
<li><strong>dest</strong> Empty string structure. </li>
<li><strong>src</strong> String containg valid UTF-8. </li>
<li><strong>escape_quotes</strong> If true, quotation-marks will have backslashes prepended too. </li>
</ul>
<p><strong>Return</strong>: Slice of <code>dest</code> string with correct length. </p>
<p>Convert a string containing UTF-8 to ASCII with escape sequences. </p>
<h3 id="function-utf_strchr"><a class="header" href="#function-utf_strchr">function utf_strchr</a></h3>
<pre><code class="language-cpp">string utf_strchr(
    string s,
    rune ch,
    usize * i
)
</code></pre>
<p><strong>Parameters</strong>: </p>
<ul>
<li><strong>s</strong> String to search through. </li>
<li><strong>ch</strong> Rune/character to find. </li>
<li><strong>i</strong> Pointer to be set to index of character in string. </li>
</ul>
<p><strong>Return</strong>: Slice of <code>s</code> string, starting at first occurence. Points to nil with zero (0) length if no such character is found. </p>
<p>Find first occurrence of character <code>ch</code> in string <code>c</code>. </p>
<h3 id="function-utf_strlen"><a class="header" href="#function-utf_strlen">function utf_strlen</a></h3>
<pre><code class="language-cpp">usize utf_strlen(
    string s
)
</code></pre>
<p>Counts number of <em>characters</em> (runes) in a UTF-8 string. <em>Not</em> the number of bytes, which is <code>s.len</code>. </p>
<h3 id="function-utf_seqlen"><a class="header" href="#function-utf_seqlen">function utf_seqlen</a></h3>
<pre><code class="language-cpp">usize utf_seqlen(
    string 
)
</code></pre>
<p>Returns length of next UTF-8 sequence. </p>
<h3 id="function-is_locale_utf8"><a class="header" href="#function-is_locale_utf8">function is_locale_utf8</a></h3>
<pre><code class="language-cpp">bool is_locale_utf8(
    byte * locale
)
</code></pre>
<p>Give the C-string returned by <code>setlocale</code>, determine whether the current locale speaks UTF-8. </p>
<h3 id="function-octal_digit"><a class="header" href="#function-octal_digit">function octal_digit</a></h3>
<pre><code class="language-cpp">bool octal_digit(
    byte c
)
</code></pre>
<h3 id="function-hex_digit"><a class="header" href="#function-hex_digit">function hex_digit</a></h3>
<pre><code class="language-cpp">bool hex_digit(
    byte c
)
</code></pre>
<h2 id="macros-documentation"><a class="header" href="#macros-documentation">Macros Documentation</a></h2>
<h3 id="define-is_utf"><a class="header" href="#define-is_utf">define is_utf</a></h3>
<pre><code class="language-cpp">#define is_utf(
    c
)
(((c) &amp; 0xC0) != 0x80)
</code></pre>
<p>Is <code>c</code> the start of a UTF-8 sequence? </p>
<h2 id="source-code"><a class="header" href="#source-code">Source code</a></h2>
<pre><code class="language-cpp">#include &quot;common.h&quot;
#include &lt;string.h&gt;

#pragma once

#define is_utf(c) (((c) &amp; 0xC0) != 0x80)

static inline
string to_string(const byte *c)
    { return ((string){ .len = strlen(c), .value = (byte *)c }); }

/* Conversions. */

runic utf8_to_ucs4(runic dest, string src);

string ucs4_to_utf8(string dest, runic src);

string rune_to_utf8(string dest, rune ch);

/* Moving through stirngs. */

usize byte_offset(string, usize);

usize char_num(string, usize);

rune read_rune(string s, usize *i);

u0 next_rune(string, usize *);

u0 prev_rune(string, usize *);

/* Unicode Escapes. */

usize read_escape(string src, rune *dest);

string escape_rune(string dest, rune ch);

string utf8_unescape(string dest, string src);

string utf8_escape(string dest, string src, bool escape_quotes);

/* UTF-8 oriented standard function replacements. */

string utf_strchr(string s, rune ch, usize *i);

usize utf_strlen(string s);

usize utf_seqlen(string);

bool is_locale_utf8(byte *locale);

/* Utility. */
bool octal_digit(byte c);
bool hex_digit(byte c);
</code></pre>
<hr />
<p>Updated on  2 July 2021 at 20:49:39 UTC</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../Files/utf_8c.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../Files/tests_8c.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../Files/utf_8c.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../Files/tests_8c.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
